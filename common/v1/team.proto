syntax = "proto3";
package common.v1;

import "buf/validate/validate.proto";
import "common/v1/common.proto";

option go_package = "github.com/pdcgo/schema/services/common/v1;common";

service TeamService {
  /*
   #### Untuk Get Data User Public
  */
  rpc PublicTeamIDs(PublicTeamIDsRequest) returns (PublicTeamIDsResponse);
  rpc PublicTeamList(PublicTeamListRequest) returns (PublicTeamListResponse);
}

enum TeamType {
  TEAM_TYPE_UNSPECIFIED = 0;
  TEAM_TYPE_WAREHOUSE = 1;
  TEAM_TYPE_SELLING = 2;
  TEAM_TYPE_ADMIN = 3;
}

message PublicTeamListRequest {
  string q = 1;
  common.v1.PageFilter page = 2 [(buf.validate.field).required = true];
}

message PublicTeamListResponse {
  repeated Team datas = 1;
  common.v1.PageInfo page_info = 2;
}

message PublicTeamIDsRequest {
  repeated uint64 ids = 1 [(buf.validate.field).repeated = {
    min_items: 1 // must have at least 1 id
    max_items: 200
    unique: true // no duplicate IDs allowed
    items: {
      uint64: {gt: 0}
    }
  }];
}

message PublicTeamIDsResponse {
  map<uint64, Team> data = 1;
}
